function addLayer(e,o,n){e.setZIndex(n).addTo(map);var i=document.createElement("a");i.href="#",i.className="active",i.innerHTML=o,i.onclick=function(o){o.preventDefault(),o.stopPropagation(),map.hasLayer(e)?(map.removeLayer(e),this.className=""):(map.addLayer(e),this.className="active")},layers.appendChild(i)}function waitLayer(e,o,n){e.setZIndex(n);var i=document.createElement("a");i.href="#",i.className="",i.innerHTML=o,i.onclick=function(o){o.preventDefault(),o.stopPropagation(),map.hasLayer(e)?(map.removeLayer(e),this.className=""):(map.addLayer(e),this.className="active")},layers.appendChild(i)}function empty(){info.innerHTML="<div><h4>Click a marker</h4></div>"}L.mapbox.accessToken="pk.eyJ1IjoiZWJlbmRlbm5pcyIsImEiOiJ1M2tMMC0wIn0.HL9nr43JrA_mzhGVBI_B_Q";var info=document.getElementById("info"),map=L.mapbox.map("map","iconeng.ld19b8nf",{attributionControl:!1}).setView([39.443,-104.73],14),home=document.getElementById("home-button"),filing1a=document.getElementById("filing1a-button");home.onclick=function(){map.setView([39.443,-104.73],14)},filing1a.onclick=function(){map.setView([39.4468,-104.7535],16)};var blueIcon=L.icon({iconUrl:"css/images/blue_marker.svg",iconSize:[25,35],iconAnchor:[10,35],popupAnchor:[0,-35]});greenIcon=L.icon({iconUrl:"css/images/green_marker.svg",iconSize:[25,35],iconAnchor:[10,35],popupAnchor:[0,-35]}),yellowIcon=L.icon({iconUrl:"css/images/yellow_marker.svg",iconSize:[25,35],iconAnchor:[10,35],popupAnchor:[0,-35]}),orangeIcon=L.icon({iconUrl:"css/images/orange_marker.svg",iconSize:[37.5,52.5],iconAnchor:[15,52.5],popupAnchor:[0,-52]}),redIcon=L.icon({iconUrl:"css/images/red_marker.svg",iconSize:[37.5,52.5],iconAnchor:[15,52.5],popupAnchor:[0,-52]});var styledPoints=L.mapbox.featureLayer(dbpoints,{pointToLayer:function(e,o){var n=L.marker(o);1==e.properties.condition?n.setIcon(redIcon):2==e.properties.condition?n.setIcon(orangeIcon):3==e.properties.condition?n.setIcon(yellowIcon):4==e.properties.condition?n.setIcon(greenIcon):5==e.properties.condition&&n.setIcon(blueIcon);var i="<div><h4>"+e.properties.cartodb_id+". "+e.properties.generation+" "+e.properties.type+"</h4><br />Purpose: <b>"+e.properties.purpose+"</b><br />Sediment: <b>"+e.properties.sediment+"</b><br />Debris: <b>"+e.properties.debris+"</b><br />Condition: <b>"+e.properties.condition+"</b><br />Recommendation: <b>"+e.properties.recommendation+"</b><br />Notes: "+e.properties.notes+'<br /><img src="//s3-us-west-2.amazonaws.com/iconeng/hpfmd-img/'+e.properties.photo+"."+e.properties.extension+'"></div>';return n.on("click",function(e){n.closePopup(),info.innerHTML=i}),n}}),layers=document.getElementById("layerMenu");addLayer(L.mapbox.tileLayer("iconeng.HPFMD_Base"),"Filing Boundaries",1),addLayer(styledPoints,"Points",2),addLayer(styledPoints,"Lines",3);var featureGroup=L.featureGroup().addTo(map);map.on("click",empty),empty();
